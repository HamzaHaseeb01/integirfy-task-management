<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Assignment 1</title>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://kit.fontawesome.com/455bb184a7.js" crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <div>
            <h1>TASK MANAGEMENT</h1>
        </div>
        <div>
            <input id="input" placeholder="Title...." />
            <button onclick="myfunction()">Add</button>
        </div>
    </header>
    <section class="container3">
        <button class="button_1" onclick="RemoveAll()">Remove All</button>
    </section>
    <script>
        const RemoveAll = () => {
            const list = document.getElementsByTagName("section");
            for (let i = 0; i < list.length - 1; i++) {
                if ((list[i].getElementsByTagName("i")).length < 2) {
                    const newTag = document.createElement("i");
                    newTag.className = "fas fa-check";
                    const p = list[i].getElementsByTagName("p")[0]
                    newTag.addEventListener("click", () => Addfunction(newTag, p, list[i]))
                    p.style.textDecoration = "line-through";
                    p.insertAdjacentElement("beforeend", newTag);
                    list[i].className = "container"
                }
            }

        }
        const Addfunction = (i, p, section) => {
            i.remove();
            section.className = "container2";
            p.style.textDecoration = "None"

        }
        const Deleteffunction = (p, section, i2) => {
            if ((section.getElementsByTagName("i")).length < 2) {
                p.style.textDecoration = "line-through"
                section.className = "container"
                const i = document.createElement("i");
                i.id = counter
                i.className = "fas fa-check";
                i.addEventListener("click", () => Addfunction(i, p, section))
                i2.color = "white";
                i2.backgroundColor = "rgb(32, 160, 235)"
                p.insertAdjacentElement("beforeend", i)
                // return i;
                // console.log(section)
            }
        }
        var counter = 0;
        const myfunction = () => {
            const value = document.getElementById("input").value;

            const bodyinfo = document.getElementsByTagName("header")[0];

            const section = document.createElement("section");
            section.className = "container2";
            section.id = counter;

            const div = document.createElement("div")

            const p = document.createElement("p");
            p.innerText = value;

            div.appendChild(p);

            const i2 = document.createElement("i");
            i2.className = "fas fa-times";
            i2.style.color = "black";
            i2.style.backgroundColor = "white";
            i2.addEventListener("click", () => Deleteffunction(p, section, i2))

            div.appendChild(i2);

            section.appendChild(div);
            console.log(section)
            bodyinfo.insertAdjacentElement("afterend", section);
            counter++;
        }
    </script>
</body>

</html>